package com.zmen.backend.entity;

import jakarta.persistence.*;
import java.time.LocalDateTime;
import java.util.Set;

@Entity
@Table(name = "thuoc_tinh")
public class ThuocTinh {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @Column(name = "ten_thuoc_tinh", length = 100)
    private String tenThuocTinh;
    
    @Column(name = "ma_thuoc_tinh", length = 50, unique = true)
    private String maThuocTinh;
    
    @Column(name = "mo_ta", length = 255)
    private String moTa;
    
    @Column(name = "kieu_du_lieu", length = 20)
    private String kieuDuLieu; // TEXT, NUMBER, COLOR, SIZE, BOOLEAN
    
    @Column(name = "don_vi", length = 20)
    private String donVi;
    
    @Column(name = "bat_buoc")
    private Boolean batBuoc = false;
    
    @Column(name = "hien_thi_tren_filter")
    private Boolean hienThiTrenFilter = true;
    
    @Column(name = "thu_tu_hien_thi")
    private Integer thuTuHienThi = 0;
    
    @Column(name = "trang_thai")
    private Boolean trangThai = true;
    
    @Column(name = "created_at")
    private LocalDateTime createdAt;
    
    @Column(name = "updated_at")
    private LocalDateTime updatedAt;
    
    @OneToMany(mappedBy = "thuocTinh", cascade = CascadeType.ALL)
    private Set<GiaTriThuocTinh> giaTriThuocTinhs;
    
    @PrePersist
    protected void onCreate() {
        createdAt = LocalDateTime.now();
        updatedAt = LocalDateTime.now();
    }
    
    @PreUpdate
    protected void onUpdate() {
        updatedAt = LocalDateTime.now();
    }
    
    // Constructors
    public ThuocTinh() {}
    
    public ThuocTinh(String tenThuocTinh, String maThuocTinh, String kieuDuLieu) {
        this.tenThuocTinh = tenThuocTinh;
        this.maThuocTinh = maThuocTinh;
        this.kieuDuLieu = kieuDuLieu;
    }
    
    // Getters and Setters
    public Long getId() {
        return id;
    }
    
    public void setId(Long id) {
        this.id = id;
    }
    
    public String getTenThuocTinh() {
        return tenThuocTinh;
    }
    
    public void setTenThuocTinh(String tenThuocTinh) {
        this.tenThuocTinh = tenThuocTinh;
    }
    
    public String getMaThuocTinh() {
        return maThuocTinh;
    }
    
    public void setMaThuocTinh(String maThuocTinh) {
        this.maThuocTinh = maThuocTinh;
    }
    
    public String getMoTa() {
        return moTa;
    }
    
    public void setMoTa(String moTa) {
        this.moTa = moTa;
    }
    
    public String getKieuDuLieu() {
        return kieuDuLieu;
    }
    
    public void setKieuDuLieu(String kieuDuLieu) {
        this.kieuDuLieu = kieuDuLieu;
    }
    
    public String getDonVi() {
        return donVi;
    }
    
    public void setDonVi(String donVi) {
        this.donVi = donVi;
    }
    
    public Boolean getBatBuoc() {
        return batBuoc;
    }
    
    public void setBatBuoc(Boolean batBuoc) {
        this.batBuoc = batBuoc;
    }
    
    public Boolean getHienThiTrenFilter() {
        return hienThiTrenFilter;
    }
    
    public void setHienThiTrenFilter(Boolean hienThiTrenFilter) {
        this.hienThiTrenFilter = hienThiTrenFilter;
    }
    
    public Integer getThuTuHienThi() {
        return thuTuHienThi;
    }
    
    public void setThuTuHienThi(Integer thuTuHienThi) {
        this.thuTuHienThi = thuTuHienThi;
    }
    
    public Boolean getTrangThai() {
        return trangThai;
    }
    
    public void setTrangThai(Boolean trangThai) {
        this.trangThai = trangThai;
    }
    
    public LocalDateTime getCreatedAt() {
        return createdAt;
    }
    
    public void setCreatedAt(LocalDateTime createdAt) {
        this.createdAt = createdAt;
    }
    
    public LocalDateTime getUpdatedAt() {
        return updatedAt;
    }
    
    public void setUpdatedAt(LocalDateTime updatedAt) {
        this.updatedAt = updatedAt;
    }
    
    public Set<GiaTriThuocTinh> getGiaTriThuocTinhs() {
        return giaTriThuocTinhs;
    }
    
    public void setGiaTriThuocTinhs(Set<GiaTriThuocTinh> giaTriThuocTinhs) {
        this.giaTriThuocTinhs = giaTriThuocTinhs;
    }
}

