package com.zmen.backend.entity;

import jakarta.persistence.*;
import java.math.BigDecimal;
import java.time.LocalDate;
import java.time.LocalDateTime;

@Entity
@Table(name = "nhan_vien")
public class NhanVien {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @OneToOne
    @JoinColumn(name = "nguoi_dung_id", referencedColumnName = "id")
    private User nguoiDung;
    
    @Column(name = "ma_nhan_vien", length = 20, unique = true)
    private String maNhanVien;
    
    @Column(name = "chuc_vu", length = 50)
    private String chucVu;
    
    @Column(name = "phong_ban", length = 50)
    private String phongBan;
    
    @Column(name = "ngay_vao_lam")
    private LocalDate ngayVaoLam;
    
    @Column(name = "ngay_nghi_viec")
    private LocalDate ngayNghiViec;
    
    @Column(name = "luong_co_ban", precision = 15, scale = 2)
    private BigDecimal luongCoBan;
    
    @Column(name = "phu_cap", precision = 15, scale = 2)
    private BigDecimal phuCap;
    
    @Column(name = "he_so_luong", precision = 5, scale = 2)
    private BigDecimal heSoLuong;
    
    @Column(name = "so_tai_khoan_ngan_hang", length = 30)
    private String soTaiKhoanNganHang;
    
    @Column(name = "ten_ngan_hang", length = 100)
    private String tenNganHang;
    
    @Column(name = "chi_nhanh_ngan_hang", length = 100)
    private String chiNhanhNganHang;
    
    @Column(name = "so_bao_hiem_xa_hoi", length = 20)
    private String soBaoHiemXaHoi;
    
    @Column(name = "so_bao_hiem_y_te", length = 20)
    private String soBaoHiemYTe;
    
    @Column(name = "ma_so_thue", length = 20)
    private String maSoThue;
    
    @Column(name = "trang_thai_lam_viec")
    private String trangThaiLamViec; // Đang làm việc, Nghỉ phép, Nghỉ việc
    
    @Column(name = "ghi_chu", length = 500)
    private String ghiChu;
    
    @Column(name = "trang_thai")
    private Boolean trangThai = true;
    
    @Column(name = "created_at")
    private LocalDateTime createdAt;
    
    @Column(name = "updated_at")
    private LocalDateTime updatedAt;
    
    @PrePersist
    protected void onCreate() {
        createdAt = LocalDateTime.now();
        updatedAt = LocalDateTime.now();
    }
    
    @PreUpdate
    protected void onUpdate() {
        updatedAt = LocalDateTime.now();
    }
    
    // Constructors
    public NhanVien() {}
    
    public NhanVien(User nguoiDung, String maNhanVien, String chucVu, String phongBan, 
                   LocalDate ngayVaoLam, BigDecimal luongCoBan) {
        this.nguoiDung = nguoiDung;
        this.maNhanVien = maNhanVien;
        this.chucVu = chucVu;
        this.phongBan = phongBan;
        this.ngayVaoLam = ngayVaoLam;
        this.luongCoBan = luongCoBan;
        this.trangThaiLamViec = "Đang làm việc";
    }
    
    // Getters and Setters
    public Long getId() {
        return id;
    }
    
    public void setId(Long id) {
        this.id = id;
    }
    
    public User getNguoiDung() {
        return nguoiDung;
    }
    
    public void setNguoiDung(User nguoiDung) {
        this.nguoiDung = nguoiDung;
    }
    
    public String getMaNhanVien() {
        return maNhanVien;
    }
    
    public void setMaNhanVien(String maNhanVien) {
        this.maNhanVien = maNhanVien;
    }
    
    public String getChucVu() {
        return chucVu;
    }
    
    public void setChucVu(String chucVu) {
        this.chucVu = chucVu;
    }
    
    public String getPhongBan() {
        return phongBan;
    }
    
    public void setPhongBan(String phongBan) {
        this.phongBan = phongBan;
    }
    
    public LocalDate getNgayVaoLam() {
        return ngayVaoLam;
    }
    
    public void setNgayVaoLam(LocalDate ngayVaoLam) {
        this.ngayVaoLam = ngayVaoLam;
    }
    
    public LocalDate getNgayNghiViec() {
        return ngayNghiViec;
    }
    
    public void setNgayNghiViec(LocalDate ngayNghiViec) {
        this.ngayNghiViec = ngayNghiViec;
    }
    
    public BigDecimal getLuongCoBan() {
        return luongCoBan;
    }
    
    public void setLuongCoBan(BigDecimal luongCoBan) {
        this.luongCoBan = luongCoBan;
    }
    
    public BigDecimal getPhuCap() {
        return phuCap;
    }
    
    public void setPhuCap(BigDecimal phuCap) {
        this.phuCap = phuCap;
    }
    
    public BigDecimal getHeSoLuong() {
        return heSoLuong;
    }
    
    public void setHeSoLuong(BigDecimal heSoLuong) {
        this.heSoLuong = heSoLuong;
    }
    
    public String getSoTaiKhoanNganHang() {
        return soTaiKhoanNganHang;
    }
    
    public void setSoTaiKhoanNganHang(String soTaiKhoanNganHang) {
        this.soTaiKhoanNganHang = soTaiKhoanNganHang;
    }
    
    public String getTenNganHang() {
        return tenNganHang;
    }
    
    public void setTenNganHang(String tenNganHang) {
        this.tenNganHang = tenNganHang;
    }
    
    public String getChiNhanhNganHang() {
        return chiNhanhNganHang;
    }
    
    public void setChiNhanhNganHang(String chiNhanhNganHang) {
        this.chiNhanhNganHang = chiNhanhNganHang;
    }
    
    public String getSoBaoHiemXaHoi() {
        return soBaoHiemXaHoi;
    }
    
    public void setSoBaoHiemXaHoi(String soBaoHiemXaHoi) {
        this.soBaoHiemXaHoi = soBaoHiemXaHoi;
    }
    
    public String getSoBaoHiemYTe() {
        return soBaoHiemYTe;
    }
    
    public void setSoBaoHiemYTe(String soBaoHiemYTe) {
        this.soBaoHiemYTe = soBaoHiemYTe;
    }
    
    public String getMaSoThue() {
        return maSoThue;
    }
    
    public void setMaSoThue(String maSoThue) {
        this.maSoThue = maSoThue;
    }
    
    public String getTrangThaiLamViec() {
        return trangThaiLamViec;
    }
    
    public void setTrangThaiLamViec(String trangThaiLamViec) {
        this.trangThaiLamViec = trangThaiLamViec;
    }
    
    public String getGhiChu() {
        return ghiChu;
    }
    
    public void setGhiChu(String ghiChu) {
        this.ghiChu = ghiChu;
    }
    
    public Boolean getTrangThai() {
        return trangThai;
    }
    
    public void setTrangThai(Boolean trangThai) {
        this.trangThai = trangThai;
    }
    
    public LocalDateTime getCreatedAt() {
        return createdAt;
    }
    
    public void setCreatedAt(LocalDateTime createdAt) {
        this.createdAt = createdAt;
    }
    
    public LocalDateTime getUpdatedAt() {
        return updatedAt;
    }
    
    public void setUpdatedAt(LocalDateTime updatedAt) {
        this.updatedAt = updatedAt;
    }
}

